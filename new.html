<!DOCTYPE html>
<html>

<head>
    <title>FizzBuzz</title>
    <style>
        body{
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        form{
            border: 2px dotted black;
            text-align: center;
            width: 30%;
            padding: 20px;
        }
        input {
            margin: 2px;
        }
    </style>
</head>

<body>
    <h1>FizzBuzz</h1>
    <form>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="phone">Phone:</label>
        <input type="text" id="phone" name="phone" required><br>

        <button type="button" onclick="fizzBuzz()">Submit</button><br><br>

        <label for="output">Output:</label>
        <textarea id="output" name="output" cols="20" rows="2"readonly></textarea><br><br>
        
        <button type="submit" onclick="return confirmSubmission()">Confirm Submission</button>
    </form>

    <script>
        function fizzBuzz() {
            // Get input values
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const phone = document.getElementById("phone").value;

            // Calculate sum of phone number digits
            let sum = 0;
            for (let i = 0; i < phone.length; i++) {
                sum += parseInt(phone.charAt(i));
            }

            // Run FizzBuzz loop
            let output = "";
            for (let i = 1; i <= sum; i++) {
                if (i % 4 === 0 && i % 5 === 0) {
                    output += "FizzBuzz ";
                } else if (i % 4 === 0) {
                    output += "Fizz ";
                } else if (i % 5 === 0) {
                    output += "Buzz ";
                } else {
                    output += i + " ";
                }
            }

            // Store output in textarea
            const outputTextarea = document.getElementById("output");
            outputTextarea.value = output.trim();

            // Validate output
            const answer = name + email + phone + output;
            const expectedAnswer = (parseInt(phone) + sum).toString();
            if (answer === expectedAnswer) {
                return true;
            } else {
                alert("Wrong Answer! Try Again!");
                return false;
            }
        }

        function confirmSubmission() {
            const outputTextarea = document.getElementById("output");
            if (outputTextarea.value === "") {
                alert("ValidationError: 'answer' is not allowed to be empty");
                return false;
            } else {
                alert("Congrats!!! Entry Successfully Submitted");
                return true;
            }
        }
    </script>
</body>

</html>
